{"version":3,"sources":["api/unsplash.js","api/azure.js","components/ImageCard.js","components/ImageList.js","components/PhotoPlaceholder.js","components/IntroBanner.js","components/TopicsSearch.js","components/App.js","index.js"],"names":["axios","create","baseURL","headers","Authorization","Content-Type","Ocp-Apim-Subscription-Key","ImageCard","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","setSpans","height","imageRef","current","clientHeight","spans","Math","ceil","setState","onImgClick","asyncToGenerator","regenerator_default","a","mark","_callee","MS_LOGO","urls","response","data","wrap","_context","prev","next","loading","image","azure","post","url","regular","sent","Swal","fire","title","html","renderModal","imageUrl","imageWidth","imageHeight","confirmButtonText","stop","React","createRef","state","addEventListener","caption","description","captions","text","capConfidence","confidence","toFixed","dominantColors","color","join","tags","concat","react_default","createElement","className","style","position","_this$props$image","gridRowEnd","cursor","onClick","alt","src","ref","loadingGif","Component","ImageList","images","map","components_ImageCard","key","id","PhotoPlaceholder","renderPhotoPlaceholder","IntroBanner","onBannerClose","marginTop","TopicsSearch","topic","showBanner","showImgPlaceholder","onSearchSubmit","unsplash","get","params","query","results","length","swal","icon","closeBannerMessage","onFormSubmit","event","preventDefault","components_IntroBanner","components_PhotoPlaceholder","_this2","renderBanner","onSubmit","type","placeholder","value","onChange","target","renderPlaceholder","components_ImageList","App","handleChange","newValue","components_TopicsSearch","ReactDOM","render","components_App","document","querySelector"],"mappings":"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","file":"static/js/main.202825f6.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://api.unsplash.com',\r\n    headers: {\r\n        //remeber to remove the api key when uploading to github\r\n        Authorization: 'Client-ID eca10f34d3ac8c233aa95b8aae59d936a1e002ca2a4698d3e73c73681ff4de1c'\r\n    }\r\n});","import axios from 'axios';\r\n\r\n//Microsoft azure cogninitive vision service\r\nexport default axios.create({\r\n    baseURL: 'https://eastus.api.cognitive.microsoft.com/vision/v1.0/analyze',\r\n    headers: {\r\n        //remeber to remove the api key when uploading to github\r\n        'Content-Type': 'application/json',\r\n        'Ocp-Apim-Subscription-Key': '6eda8989b29e4683a14d1f548e3505b0'\r\n    }\r\n});\r\n","import React from 'react';\r\nimport azure from '../api/azure'\r\nimport Swal from 'sweetalert2';\r\n\r\n//The purpose of this whole component logic is to try and make the image list layout pretty by calculating how many spans each individual image needs\r\n//Instead of this component we can also just use the responsive-container css class in ImageList css which will make the layout dimensions even and responsive for each cell\r\nclass ImageCard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.imageRef = React.createRef();\r\n        this.state = { spans: 0, loading: false};        \r\n    }\r\n    \r\n    componentDidMount(){\r\n         // in order to use the image reference we need to wait for the image to load\r\n         //to do that we need to add an event listener\r\n         this.imageRef.current.addEventListener('load', this.setSpans);\r\n    }\r\n\r\n    setSpans = () =>{ //we want the image height to set the spans value in css\r\n        const height = this.imageRef.current.clientHeight;\r\n        const spans = Math.ceil(height/10); //10px is the height we gave the auto-row attribute in css  \r\n        this.setState({spans});\r\n    }\r\n\r\n    renderModal(data) {\r\n        const caption = data.description.captions[0] ? data.description.captions[0].text : \"No prediction\";\r\n        const capConfidence = data.description.captions[0] ? (data.description.captions[0].confidence *100).toFixed(5) +'%' : \"No prediction\";\r\n        const dominantColors = data.color.dominantColors ? data.color.dominantColors.join(\", \") : \"No prediction\";\r\n        const tags = data.description.tags ? data.description.tags.join(\", \") : \"No prediction\";\r\n        return (\r\n            `<div>\r\n                <table class=\"ui celled table\">\r\n                    <thead>\r\n                        <tr><th>Predicted Attribute</th>\r\n                            <th>Value</th>\r\n                        </tr></thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td data-label=\"captionLbl\">Caption</td>\r\n                            <td data-label=\"captionValue\">${caption}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td data-label=\"confLbl\">Confidence</td>\r\n                            <td data-label=\"confValue\">${capConfidence}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td data-label=\"captionLbl\">Dominant Colors</td>\r\n                            <td data-label=\"captionValue\">${dominantColors}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td data-label=\"confLbl\">Tags</td>\r\n                            <td data-label=\"confValue\">${tags}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>`\r\n        );\r\n    }\r\n\r\n    loadingGif() {\r\n        return (this.state.loading ?\r\n            <div className=\"ui active inverted dimmer\" style={{position:'fixed'}}>\r\n                <div className=\"ui text loader\">Loading</div>\r\n            </div> : null\r\n        );\r\n    }\r\n\r\n    onImgClick = async () => {\r\n        this.setState({ loading: true });   \r\n        const MS_LOGO = \"https://azurecomcdn.azureedge.net/cvt-43585516c91952e44ccd39cf22cd31714613c4ccdea4ad5d9c5c6b1696e0a606/images/icon/favicon.ico\"\r\n        const { urls } = this.props.image;        \r\n        const response = await azure.post('?visualFeatures=Categories,Description,Color&language=en', {url: urls.regular\r\n            // params: { \r\n            //     visualFeatures: 'Categories, Description, Color',\r\n            //     language: 'en'\r\n            // },\r\n            //data: { url: urls.regular}\r\n        });\r\n        //deconstruct the data object to pass in our modal function \r\n        const { data } = response;\r\n        \r\n       this.setState({ loading: false });       \r\n        Swal.fire({\r\n            title: 'Computer Vision analysis ',\r\n            html: this.renderModal(data),\r\n            imageUrl: MS_LOGO,\r\n            imageWidth: 40,\r\n            imageHeight: 40,\r\n            confirmButtonText: 'Cool'\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { description, urls } = this.props.image; \r\n        return (                \r\n                <div style={{ gridRowEnd: `span ${this.state.spans}`, cursor: 'pointer' }}>                \r\n                    <img onClick={this.onImgClick} className=\"ui segment\" alt={description} src={urls.regular} ref={this.imageRef}></img>\r\n                {this.loadingGif()}\r\n                </div>         \r\n        );\r\n    }\r\n}\r\nexport default ImageCard;","import './css/ImageList.css';\r\nimport React from 'react';\r\nimport ImageCard from './ImageCard'\r\n\r\nconst ImageList = (props) => {\r\n\r\n    const images = props.images.map((image) => {//the key property is assigned to the root element, if img was wrapped in div the the key property should be assigned in div\r\n        //use responsive container if it's prefered over the ImageCard component approach\r\n        //return <img key={image.id} alt={image.description} src={image.urls.regular}></img> //we can fetch (id,description,urls) directly in the arrow function argument instead of using image \r\n        return <ImageCard key={image.id} image={image} />\r\n    });\r\n\r\n    return (        \r\n        // <div className=\"responsive-container\">\r\n        <div className=\"image-list\">\r\n            {images}\r\n        </div>\r\n    );\r\n}\r\nexport default ImageList;","import React from 'react';\r\n\r\nclass PhotoPlaceholder extends React.Component {\r\n\r\n    renderPhotoPlaceholder() {\r\n        return (\r\n            <div className=\"ui column\">\r\n                <div className=\"ui segment\">\r\n                    <img className=\"ui wireframe image\"\r\n                        alt=\"...\"\r\n                        src=\"https://semantic-ui.com/images/wireframe/image.png\">\r\n                    </img>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    render() {\r\n        return (\r\n            <div>                \r\n                <div className=\"ui three column grid\">\r\n                    {this.renderPhotoPlaceholder()}\r\n                    {this.renderPhotoPlaceholder()}\r\n                    {this.renderPhotoPlaceholder()}\r\n                </div>\r\n                <div className=\"ui three column grid\">\r\n                    {this.renderPhotoPlaceholder()}\r\n                    {this.renderPhotoPlaceholder()}\r\n                    {this.renderPhotoPlaceholder()}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\nexport default PhotoPlaceholder","import React from 'react';\r\n\r\nclass IntroBanner extends React.Component {\r\n\r\n    onBannerClose = () => {\r\n        //send the value to close the banner at parent component\r\n        this.props.onClick();\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"ui floating message\" style={{ marginTop: '10px' }}>\r\n                <i onClick={this.onBannerClose} className=\"close icon\"></i>\r\n                <div className=\"header\">\r\n                    Welcome! search something...\r\n            </div>\r\n                Find pictures and select one to see what Microsoft Computer Vision can tell you about it.\r\n        </div>\r\n        );\r\n    }\r\n    \r\n};\r\nexport default IntroBanner;","import React from \"react\";\r\nimport swal from \"sweetalert\";\r\nimport unsplash from \"../api/unsplash\";\r\nimport ImageList from \"./ImageList\";\r\nimport PhotoPlaceholder from \"./PhotoPlaceholder\";\r\nimport IntroBanner from \"./IntroBanner\";\r\n\r\nclass TopicsSearch extends React.Component {\r\n\r\n    state = {\r\n        topic: '',\r\n        showBanner: true,\r\n        showImgPlaceholder: true,\r\n        loading: false,\r\n        images: []\r\n    };\r\n\r\n    onSearchSubmit = async (topic) => {\r\n        this.setState({ loading: true });\r\n        // we could add this whole function inside the unsplash.js and make it cleaner but then it is not as generic if we want another endpoint we can't reuse it\r\n        const response = await unsplash.get('/search/photos', {\r\n            params: { query: topic }\r\n        });\r\n        this.setState({\r\n            images: response.data.results,\r\n            showBanner: false,\r\n            showImgPlaceholder: false,\r\n            loading: false\r\n        });\r\n        if (this.state.images.length === 0) {\r\n            swal({\r\n                title: \"No images found (ಥ_ಥ)\",\r\n                text: \"Please try a different topic\",\r\n                icon: \"warning\",\r\n            });\r\n        }\r\n    }\r\n\r\n    closeBannerMessage = () => {\r\n        this.setState({ showBanner: false });\r\n    }\r\n\r\n    renderBanner() {\r\n        return (this.state.showBanner ?\r\n            <IntroBanner onClick={this.closeBannerMessage} /> : null\r\n        );\r\n    }\r\n    \r\n    renderPlaceholder() {\r\n        return (this.state.showImgPlaceholder ? <PhotoPlaceholder /> : null);\r\n    }\r\n\r\n    loadingGif() {\r\n        return (this.state.loading ?\r\n            <div className=\"ui active inverted dimmer\" style={{ position: 'fixed' }}>\r\n                <div className=\"ui text loader\">Loading</div>\r\n            </div> : null\r\n        );\r\n    }\r\n\r\n    onFormSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.onSearchSubmit(this.state.topic)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderBanner()}\r\n                <div className=\"ui segment\" style={{ marginTop: '10px' }}>\r\n                    <form onSubmit={this.onFormSubmit} className=\"ui form\">\r\n                        <div className=\"field\">\r\n                            <label>Image Search</label>\r\n                            {/* when we do value={this.state.topic} on the input we are basically forcing it to take the value of the state param we can dynamically manipulate it */}\r\n                            <div className=\"ui input\">\r\n                                <input type=\"text\" placeholder=\"e.g. cats, winter, orange sky, etc...\" value={this.state.topic}\r\n                                    onChange={(event) => { this.setState({ topic: event.target.value }) }}\r\n                                />\r\n                                <button className=\"right attached mini ui button\"><i className=\"search icon\"></i>Search</button>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                {this.loadingGif()}\r\n                {this.renderPlaceholder()}\r\n                <ImageList images={this.state.images} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default TopicsSearch","import React from 'react';\r\nimport TopicsSearch from './TopicsSearch';\r\n\r\nclass App extends React.Component { \r\n    state = {value:null};  \r\n\r\n    handleChange = (newValue) => {\r\n        this.setState({value:newValue});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ui container\">     \r\n                <TopicsSearch />\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default App;","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './components/App'\r\n\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'));"],"sourceRoot":""}